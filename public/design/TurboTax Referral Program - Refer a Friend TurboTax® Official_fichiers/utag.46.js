//tealium universal tag - utag.46 ut4.0.202103082305, Copyright 2021 Tealium.com Inc. All Rights Reserved.
if(!window.cj)window.cj={};try{(function(id,loader){var u={"id":id};utag.o[loader].sender[id]=u;u.ev={"view":1};u.scriptrequested=false;u.map={};u.extend=[];u.send=function(utag_event,data_layer){if(u.ev[utag_event]||u.ev.all!==undefined){utag.DB("send:46");utag.DB(data_layer);var a,b,c,d,i;a=utag_event;b=data_layer;u.data={"base_url":"","proxyPath":"https://turbotax.intuit.com/proxy/t/cj/tags/11007/tag.js","tagId":"","actionTrackerId":"","enterpriseId":"","enablePageVisit":"true","order_id":"","order_subtotal":"","order_currency":"","order_coupon_code":"","product_id":[],"product_quantity":[],"product_unit_price":[],"product_discount":[]};utag.DB("send:46:EXTENSIONS");utag.DB(data_layer);for(var mapping_key in utag.loader.GV(u.map)){if(data_layer[mapping_key]!==undefined&&data_layer[mapping_key]!==""){var destinations=u.map[mapping_key].split(",");for(i=0;i<destinations.length;i++){mapFunc(destinations[i].split("."),u.data,data_layer[mapping_key]);}}}
utag.DB("send:46:MAPPINGS");utag.DB(u.data);u.data.order_id=u.data.order_id||data_layer._corder||"";u.data.order_subtotal=u.data.order_subtotal||data_layer._csubtotal||"";u.data.order_currency=u.data.order_currency||data_layer._ccurrency||"";u.data.order_coupon_code=u.data.order_coupon_code||data_layer._cpromo||"";u.data.customer_id=u.data.customer_id||data_layer._ccustid||"";if(u.data.product_id.length===0&&data_layer._cprod!==undefined){u.data.product_id=data_layer._cprod.slice(0);}
if(u.data.product_quantity.length===0&&data_layer._cquan!==undefined){u.data.product_quantity=data_layer._cquan.slice(0);}
if(u.data.product_unit_price.length===0&&data_layer._cprice!==undefined){u.data.product_unit_price=data_layer._cprice.slice(0);}
if(u.data.product_discount.length===0&&data_layer._cpdisc!==undefined){u.data.product_discount=data_layer._cpdisc.slice(0);}
if(!u.data.proxyPath&&!u.data.tagId){utag.DB(u.id+": Tag not fired: Either a proxyPath or tagId is required.");return;}
if(u.data.proxyPath){u.data.base_url=u.data.proxyPath;}else{u.data.base_url="//www.mczbf.com/tags/"+u.data.tagId+"/tag.js";}
if(!u.data.order_id&&toBoolean(u.data.enablePageVisit)){var sitePageParams={enterpriseId:"enterpriseId",pageType:"pageType",userId:"customer_id",emailHash:"emailHash",referringChannel:"referringChannel",cartSubtotal:"order_subtotal",items:""};window.cj.sitePage=createDataObj(sitePageParams,u.data);}
if(u.data.order_id){if(!u.data.enterpriseId||!u.data.actionTrackerId||!u.data.order_currency||!u.data.order_subtotal){utag.DB(u.id+": Order requires parameters: enterpriseId, actionTrackerId, order_currency and order_subtotal");}else{var orderParams={enterpriseId:"enterpriseId",actionTrackerId:"actionTrackerId",orderId:"order_id",currency:"order_currency",amount:"order_subtotal",discount:"order_discount",coupon:"order_coupon_code",items:"",bypassChannel:"bypassChannel",brand:"brand",brandId:"brandId",category:"category",customerStatus:"customerStatus",delivery:"delivery",marketingChannel:"marketingChannel",loyaltyEarned:"loyaltyEarned",loyaltyFirstTimeSignup:"loyaltyFirstTimeSignup",loyaltyLevel:"loyaltyLevel",loyaltyRedeemed:"loyaltyRedeemed",loyaltyStatus:"loyaltyStatus"};window.cj.order=createDataObj(orderParams,u.data);}}
if(!u.scriptrequested){u.scriptrequested=true;utag.ut.loader({"type":"script","src":u.data.base_url,"cb":null,"loc":"script","id":"cjapitag","attrs":{}});}
utag.DB("send:46:COMPLETE");}};function mapFunc(arr,obj,item){var i=arr.shift();obj[i]=obj[i]||{};if(arr.length>0){mapFunc(arr,obj[i],item);}else{obj[i]=item;}}
function toBoolean(val){val=val||"";return val===true||val.toLowerCase()==="true"||val.toLowerCase()==="on";}
function getItems(data){var paramObj={unitPrice:"product_unit_price",itemId:"product_id",quantity:"product_quantity",discount:"product_discount"};var items=[];var item;var param;for(var i=0;i<data.product_id.length;i++){item={};for(param in paramObj){if(data[paramObj[param]][i]){item[param]=param==="itemId"?data[paramObj[param]][i]:parseFloat(data[paramObj[param]][i]);}}
if(!item.unitPrice){utag.DB(u.id+": Missing, required unitPrice for itemId: "+item.itemId);}
if(!item.quantity){utag.DB(u.id+": Missing, required quantity for itemId: "+item.itemId);}
items.push(item);}
return items;}
function createDataObj(paramObj,data){var obj={};for(var param in paramObj){if(param==="items"){obj[param]=getItems(data);}else if(data[paramObj[param]]){obj[param]=param.match(/amount|discount|cartSubtotal/)?parseFloat(data[paramObj[param]]):data[paramObj[param]];}}
return obj;}
utag.o[loader].loader.LOAD(id);}("46","intuit.cg-turbotax"));}catch(error){utag.DB(error);}
