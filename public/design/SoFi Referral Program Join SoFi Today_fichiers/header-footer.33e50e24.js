function Utmz(e){this.v=unescape(e),this.sr="(direct)",this.cn="(direct)",this.cmd="(none)",this.s="utmcsr="+this.sr+"|utmccn="+this.cn+"|utmcmd="+this.cmd,null!=e&&(this.s=e.replace(/^[0-9\.]*/,""),e.replace(/utmcsr=([^\|]*)\|utmccn=([^\|]*)\|utmcmd=([^|]*)/,function(){this.sr=arguments[1],this.cn=arguments[2],this.cmd=arguments[3]})),this.sv=function(){extga._sc("__utmz",this.v,182)},this.isNew=function(){return"null"==this.v},this._setCampName=function(e){this.v=this.v.replace(/utmccn=([^\|]*)/,"utmccn="+e),this.sv()},this._setCampSource=function(e){this.v=this.v.replace(/utmcsr=([^\|]*)/,"utmcsr="+e),this.sv()},this._setCampMedium=function(e){this.v=this.v.replace(/utmcmd=([^\|]*)/,"utmcmd="+e),this.sv()},this._setCampTerm=function(e){this.v=this.v.match(/utmctr=/)?this.v.replace(/utmctr=([^\|]*)/,"utmctr="+e):this.v+"|utmctr="+e,this.sv()},this._setCampContent=function(e){this.v=this.v.match(/utmcct=/)?this.v.replace(/utmcct=([^|]*)/,"utmcct="+e):this.v+"|utmcct="+e,this.sv()},this._reset=function(){this.v=this.v.replace(/^([0-9\.]*).*$/,"$1utmcsr=(direct)|utmccn=(direct)|utmcmd=(none)")}}!function(){"use strict";function e(e){var t=document.cookie,n=t.split(e+"=");if(2===n.length)return n.pop().split(";").shift()}function t(){var e=document.querySelectorAll('body[class*="product-category"]'),t=null;if(e.length){var n=document.body.className.split(" ");n.forEach(function(e){e.match(/^product-category-/)&&(t=e.split("-")[2])})}return t}var n=document.documentElement,o=document.body;window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.HTMLCollection&&!HTMLCollection.prototype.forEach&&(HTMLCollection.prototype.forEach=Array.prototype.forEach);var r=r||{},i=function(e){var t={"m-insurance-lemonade-own":{insurance_company:"Lemonade",insurance_url:"https://www.lemonade.com/start?f=1&partner_id=20336?ownership=own"},"m-insurance-lemonade-rent":{insurance_company:"Lemonade",insurance_url:"https://www.lemonade.com/start?f=1&partner_id=20336?ownership=rent"},"m-insurance-ladder-calculator":{insurance_company:"Ladder",insurance_url:"https://www.ladderlife.com/calculator/?lddr_source=sofi&lddr_medium=cpl&lddr_name=lipage"},"m-insurance-ladder-sofi":{insurance_company:"Ladder",insurance_url:"https://www.ladderlife.com/sofi/?lddr_source=sofi&lddr_medium=cpl&lddr_name=lipage"},"m-insurance-root-auto":{insurance_company:"Root",insurance_url:"https://root.onelink.me/2133524785?af_click_lookback=28d&pid=SoFi&c=Pilot&af_ad=get_a_quote&af_web_dp=https://quote.joinroot.com&rw=1"}};return t[e]};r.checkScreenWidth=function(e,t){window.innerWidth<=1024?t.closest(".nav-dropdown").classList.toggle("nav-dropdown--active"):window.location.href=e},r.triggerModalById=function(e,t,n){e||(e="m-product-category");var r=null,a=window.pageYOffset;if(document.body.classList.add("is-open-modal"),document.documentElement.style.scrollBehavior="auto",document.body.style.top="-"+a+"px",n&&n.isSpModal&&n.spModalId){var c=document.querySelector("sp-modal").shadowRoot.getElementById("modal-anchor").children[0].getElementsByClassName("modal-close");document.body.querySelector('sp-modal[modal-id="'+n.spModalId+'"]').shadowRoot.querySelector("#"+n.spModalId).open(),c.onclick=function(e){e.preventDefault(),document.body.classList.remove("is-open-modal"),document.body.style.top="",window.scroll(0,a),document.documentElement.style.scrollBehavior=""}}else{if("m-exit-sofi"===e&&(t?(document.getElementById("exit-cta-okay").setAttribute("href",t.getAttribute("data-link")),e="m-exit-sofi"):document.getElementById("exit-cta-okay").setAttribute("href","/")),e.indexOf("m-insurance")>=0){var s=i(e),u=s.insurance_company,d=s.insurance_url,m=document.getElementById("m-insurance").outerHTML.replace(/{{insurance_company}}/g,u).replace(/{{insurance_url}}/g,d).replace(/m-insurance/,"m-insurance-temp");document.getElementById("modals-container").insertAdjacentHTML("beforeend",m),e="m-insurance-temp",r="m-insurance-temp"}if(e.indexOf("m-confirmation")>=0&&/(iPhone|iPod) OS 11_/.test(navigator.userAgent)){var l=window.pageYOffset;o.style.position="fixed"}document.querySelector("#"+e+" .modal__fade-screen").setAttribute("style","visibility: visible; opacity: 1; overflow: hidden;"),document.querySelectorAll("#"+e+" .m-close").forEach(function(t){t.onclick=function(t){t.preventDefault(),document.body.classList.remove("is-open-modal"),document.body.style.top="",window.scroll(0,a),document.documentElement.style.scrollBehavior="",document.querySelector("#"+e+" .modal__fade-screen").setAttribute("style","opacity: 0; visibility: hidden; overflow: visible;"),l&&(o.style.position="",window.pageYOffset=l),r&&r.length&&(document.getElementById("#"+r).remove(),r=null)}})}},window.sofiUtils=r,window.triggerModalById=window.sofiUtils.triggerModalById,window.checkScreenWidth=window.sofiUtils.checkScreenWidth,function(){var e=new XMLHttpRequest;e.open("GET","https://d32ijn7u0aqfv4.cloudfront.net/wp/wp-content/uploads/optimized/hp-sprite.symbol.v15.svg ",!0),e.send(),e.onload=function(t){var n=document.createElement("div");n.style.cssText="display:none;",n.innerHTML=e.responseText,o.insertBefore(n,o.childNodes[0])}}(),function(){window.toggleMenu=function(){var e=document.getElementsByClassName("page-wrap").length?document.getElementsByClassName("page-wrap")[0]:document.getElementById("polymer-page-content"),t=n.classList.contains("nav--open");t?(window.innerWidth<=1024&&e&&e.removeEventListener("click",window.toggleMenu),n.classList.remove("nav--open")):(window.innerWidth<=1024&&e&&e.addEventListener("click",window.toggleMenu),n.classList.add("nav--open"))}}(),function(){function t(){function t(e){var t=n.offsetHeight;null!==c&&(t=e?r.offsetHeight:"0"),o.style.paddingTop=t+"px"}var n=document.getElementById("header-wrapper"),r=document.getElementById("notify-bar"),i=document.getElementById("notification-bar-updated-date"),a=document.querySelector(".notify-bar__close button"),c=document.getElementById("subnav");if(null!==c&&n.classList.add("has-subnav"),null!==r&&(null===i||null!==i&&i.innerText!==e("notification_bar_updated_date"))){var s,u=function(e){clearTimeout(s),s=setTimeout(function(){var e=document.getElementById("notify-bar");t(!(!e||!e.offsetWidth))},50)};window.addEventListener("resize",u),r.style.display="block",t(!0),a&&(a.onclick=function(e){if("global-notify-bar-close"===e.currentTarget.id){var n=new Date;n.setTime(n.getTime()+2592e6);var o="expires="+n.toUTCString()+";";document.cookie="notification_bar_updated_date="+i.innerText+";"+o+"path=/;"}r.style.display="none",t(!1)})}else t(!1)}function n(){var e=document.getElementById("subnav");null!==e&&t()}t(),window.addEventListener("load",n)}(),function(){if(document.getElementById("dm-form")){var e=[document.getElementById("dm-form-submit"),document.getElementById("modal-dm-form-submit"),document.getElementById("second-dm-form-submit")],n=function(o){function r(e,n){var o={refi:"refi",mortgage:"mort",personal:"pl",parent:"parent",wealth:"wealth",plus:"plus",inschool:"inschool"},r="";if(e.utm_campaign){var i=t();r="utm_campaign=Invalid_Code",i&&(r+="&appType="+i)}e.target?window.location.href=m+"?appType="+o[e.target]+"&"+r:n?window.location.href=m+"?appType="+n+"&"+r:window.location.href=m+"?"+r}o.preventDefault();var i=o.target;if(i.removeEventListener("click",n),"dm-form-submit"===i.id)var a=document.querySelector(".dm-reservation-number-input"),c=document.querySelector(".reservation-number-error");else if("second-dm-form-submit"===i.id)var a=document.querySelector(".second-dm-reservation-number-input"),c=document.querySelector(".second-reservation-number-error");else var a=document.querySelector(".dm-reservation-number-input-modal"),c=document.querySelector(".reservation-number-error-modal");var s=a.value.toUpperCase();if(!s)return c.style.display="block",a.style.borderColor="#EC1C1C",void e.forEach(function(e){e&&e.addEventListener("click",n)});c.style.display="none",a.style.borderColor="white",s.search("-")==-1&&s.length>7&&(s=s.substr(0,5)+"-"+s.substr(5,s.length-5));var u=document.getElementById("dm-postal-code").value;u.length>5&&(u=u.substr(0,5));var d=JSON.stringify({inputCode:s,postalCode:u}),m="/b/registration",l=new XMLHttpRequest;l.open("POST","/dm-offer/api/public/attempt"),l.onreadystatechange=function(){if(l.readyState===XMLHttpRequest.DONE)if(200===l.status){var e=JSON.parse(l.responseText);r(e)}else{var e={};e.utm_campaign="Invalid_Code",r(e)}},l.setRequestHeader("Content-Type","application/json;charset=utf-8"),l.send(d)};e.forEach(function(e){e&&e.addEventListener("click",n)})}}()}();var extga={_fm:!1,_fr:!1,_rc:function(e){var t=new RegExp(e+"=([^;]*)","i"),n=document.cookie.match(t);return n&&2==n.length?n[1]:null},_Ua:function(e){return""!=e?" domain="+e:null!=document.domain.match(/^www/)?" domain="+document.domain.replace(/^www/,""):" domain="+document.domain},_sc:function(e,t,n){var o=new Date;o.setTime(o.getTime()+24*("undefined"!=typeof n?n:3)*60*60*1e3);var r=e+"="+t+"; expires="+o.toGMTString()+"; path=/;"+this._Ua(this.domain);document.cookie=r},_reset:!1,_setCampValues:function(e,t,n,o,r,i){extga.domain=i||"",extga.outmz=new Utmz(extga._rc("__utmz")),_gaq.push(["_initData"]),extga.nutmz=new Utmz(extga._rc("__utmz")),extga.outmz.s!=extga.nutmz.s?(extga._fr=!0,extga.outmz=new Utmz(extga._rc("__utmz"))):extga.outmz.isNew()&&(extga._direct=!0),"referral"==extga._getCampValues().medium&&(extga._fm=!0),!extga._fm&&extga._fr||(extga._reset&&extga.nutmz._reset(),e&&extga.nutmz._setCampSource(e),t&&extga.nutmz._setCampMedium(t),n&&extga.nutmz._setCampName(n),o&&extga.nutmz._setCampTerm(o),r&&extga.nutmz._setCampContent(r))},_getCampValues:function(){var e={sr:"source",cn:"name",md:"medium",ct:"content",tr:"term"},t=unescape(extga._rc("__utmz")),n={source:"",medium:"",name:"",term:"",content:"",isDirect:function(){return""==n.content&&"(none)"==n.medium&&"(direct)"==n.name&&"(direct)"==n.source&&""==n.term},isOrganic:function(){return"organic"==n.medium&&"(organic)"==n.name},isCampaign:function(e){var t=new RegExp("("+e+")");return null!=n.name.match(t)}};return null!=t&&t.replace(/utmc([a-z]{2})=([^\|]*)/g,function(t,o,r){n[e[o]]=r}),n}};!function(e,t,n){function o(e){return e}function r(e){return decodeURIComponent(e.replace(i," "))}if(e){var i=/\+/g,a=e.cookie=function(i,c,s){if(c!==n){if(s=e.extend({},a.defaults,s),null===c&&(s.expires=-1),"number"==typeof s.expires){var u=s.expires,d=s.expires=new Date;d.setDate(d.getDate()+u)}return c=a.json?JSON.stringify(c):String(c),t.cookie=[encodeURIComponent(i),"=",a.raw?c:encodeURIComponent(c),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var m,l=a.raw?o:r,p=t.cookie.split("; "),f=0;m=p[f]&&p[f].split("=");f++)if(l(m.shift())===i){var h=l(m.join("="));return a.json?JSON.parse(h):h}return null};a.defaults={},e.removeCookie=function(t,n){return null!==e.cookie(t,n)&&(e.cookie(t,null,n),!0)}}}(jQuery,document),function(e){if(e){var t=function(e){for(var t=["source","protocol","authority","domain","port","path","directoryPath","fileName","query","anchor"],n=new RegExp("^(?:([^:/?#.]+):)?(?://)?(([^:/?#]*)(?::(\\d*))?)((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[\\?#]|$)))*/?)?([^?#/]*))?(?:\\?([^#]*))?(?:#(.*))?").exec(e),o={},r=0;r<10;r++)o[t[r]]=n[r]?n[r]:"";return o.directoryPath.length>0&&(o.directoryPath=o.directoryPath.replace(/\/?$/,"/")),o},n=function(t){var n=t?location.hash:location.search;if(""===n)return null;var o=n.substring(1,n.length).split("&"),r={};return e.each(o,function(e,t){var n=t.split("=");r[n[0]]=n[1]}),r};e.extend({parseUri:t,parseParams:n})}}(jQuery),function(e){if(e){var t,n;t=e.parseParams(),n=["campaign","utm_source","utm_medium","utm_content"];var o=function(e,t,n){return n?"REF_"+decodeURIComponent(e)+decodeURIComponent(t)+"_!_"+decodeURIComponent(n):"REF_"+decodeURIComponent(e)+decodeURIComponent(t)},r=function(e){return e.indexOf("sofi.com")>-1||e.indexOf("sofi.org")>-1},i=function(e,t){return e.indexOf("q=")>-1&&t.indexOf("bing.com")>-1},a=function(e){for(var t=e,n=encodeURIComponent(t),o=128,r=o;n.length>o;)r--,t=e.substring(0,r),n=encodeURIComponent(t);return n},c=function(t,n,o){t=t||"campaign",o=o||{expires:30,path:"/",domain:"sofi.com"},e.cookie(t,n,o)},s=function(){e.each(n,function(e,n){c(n,t[n])})},u=function(){c("","EXTL_"+t["tellapal.id"])},d=function(){c("","AMB_"+t.campaignid+"_"+t.mbsy)},m=function(){c("fiksu_clickid",t.f_clickid),c("fiksu_web_app_id",t.web_app_id)},l=function(){e.each(n,function(e,t){var n="utm_medium"===t?"contentmktg":"MRKT_CONTENT_BLOGVISITOR";c(t,n,{expires:30,path:"/blog/",domain:"sofi.com"})})},p=function(e,t,n){var r,s;i(n,e)&&(r=n.split("q=")[1].split("&")[0]),s=o(e,t,r),s=a(s),c("",s)},f=function(){var t,n,o,i;t=e.parseUri(document.referrer),n=t.domain,o=t.path,i=t.query,r(n)||(document.URL.indexOf("blog")!=-1&&l(),""!==document.referrer&&p(n,o,i))};campaignName.length&&c("",campaignName),t&&t.campaign&&s(),t&&t["tellapal.id"]&&u(),t&&t.campaignid&&t.mbsy&&d(),t&&t.f_clickid&&t.web_app_id&&m(),e.cookie("campaign")||f()}}(jQuery),function(e){if(e){var t=document.referrer;""===t&&(t="https://"+window.location.hostname);var n=document.createElement("img");n.src="/measure/pixel/refer?referrer="+t,n.style.display="none",document.body.appendChild(n)}}(jQuery),function(){function e(){var e=new RegExp("[?&]refer(=([^&#]*)|&|#|$)"),t=e.exec(window.location.href);if(!t||!t[2])return null;var n=new RegExp("[?&]refer="+t[2]+"(.*)"),o=n.exec(window.location.href);return{referValue:decodeURIComponent(t[2].replace(/\+/g," ")),keyValues:decodeURIComponent(o[1])}}var t=e();if(null!=t&&""!=t.referValue){var n=t.referValue,o=t.keyValues,r=location.protocol+"//"+location.host,i=r+"/r/v1/pixel/"+n.replace("-","/")+o.replace("&","?"),a=document.createElement("img");a.src=i,a.style.display="none",document.body.appendChild(a)}}();